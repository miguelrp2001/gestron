<div class="fondoTabla">
    <table mat-table [dataSource]="usuarios">
        <ng-container matColumnDef="id">
            <th mat-header-cell *matHeaderCellDef> ID </th>
            <td mat-cell *matCellDef="let usuario"> {{usuario.id}} </td>
        </ng-container>
        <ng-container matColumnDef="name">
            <th mat-header-cell *matHeaderCellDef> Nombre </th>
            <td mat-cell *matCellDef="let usuario"> {{usuario.name}} </td>
        </ng-container>
        <ng-container matColumnDef="activo">
            <th mat-header-cell *matHeaderCellDef> Estado </th>
            <td mat-cell *matCellDef="let usuario">
                <mat-slide-toggle #s{{usuario.id}} [checked]="usuario.activo" [id]="usuario.id" (change)="updateStatus($event)"></mat-slide-toggle>
            </td>
        </ng-container>
        <ng-container matColumnDef="admin">
            <th mat-header-cell *matHeaderCellDef> Administrador </th>
            <td mat-cell *matCellDef="let usuario"> {{usuario.admin}} </td>
        </ng-container>
        <ng-container matColumnDef="email">
            <th mat-header-cell *matHeaderCellDef> Correo </th>
            <td mat-cell *matCellDef="let usuario"> {{usuario.email}} </td>
        </ng-container>
        <ng-container matColumnDef="telefono">
            <th mat-header-cell *matHeaderCellDef> Teléfono </th>
            <td mat-cell *matCellDef="let usuario"> {{usuario.telefono}} </td>
        </ng-container>
        <ng-container matColumnDef="created_at">
            <th mat-header-cell *matHeaderCellDef> Creación </th>
            <td mat-cell *matCellDef="let usuario"> {{usuario.created_at}} </td>
        </ng-container>
        <ng-container matColumnDef="updated_at">
            <th mat-header-cell *matHeaderCellDef> Últ. Actualización </th>
            <td mat-cell *matCellDef="let usuario"> {{usuario.updated_at}} </td>
        </ng-container>
        <ng-container matColumnDef="acciones">
            <th mat-header-cell *matHeaderCellDef> Acciones </th>
            <td mat-cell *matCellDef="let usuario">
                <button mat-icon-button title="Editar usuario" (click)="editUser(usuario)"><mat-icon>edit</mat-icon></button>
                <button mat-icon-button title="Cerrar todas las sesiones del usuario." (click)="logAllOut(usuario)"><mat-icon>logout</mat-icon></button>
            </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="(isHandset$ | async)? ['name', 'activo', 'acciones']:['id', 'name', 'activo', 'admin', 'email', 'telefono', 'acciones']"></tr>
        <tr mat-row *matRowDef="let row; columns: (isHandset$ | async)? ['name', 'activo', 'acciones']:['id', 'name', 'activo', 'admin', 'email', 'telefono', 'acciones'];"></tr>
    </table>
</div>